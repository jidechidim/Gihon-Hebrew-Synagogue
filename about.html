<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>About Us — Gihon Hebrew Synagogue</title>
  <link rel="icon" type="image/png" href="assets/logo.png">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;600;700;900&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="./css/about.css">
</head>

<body>
  <div id="__header"></div>

  <main class="page" id="main">
    <!-- Intro Section -->
    <section class="intro" aria-labelledby="aboutTitle">
      <div class="container narrow center" id="intro-section">
        <!-- Content injected via JS -->
      </div>
    </section>

    <!-- Mission & Vision Section -->
    <section class="mv" aria-labelledby="mvTitle">
      <div class="container narrow center" id="mv-section">
        <!-- Mission & Vision injected via JS -->
      </div>
    </section>

    <!-- Values Section -->
    <section class="values" aria-labelledby="valuesTitle">
      <div class="container narrow center" id="values-section">
        <!-- Values injected via JS -->
      </div>
    </section>

    <!-- Board Section -->
    <section class="board" aria-labelledby="boardTitle">
      <div class="container narrow center" id="board-section">
        <!-- Board injected via JS -->
      </div>
    </section>
  </main>

  <div id="__footer"></div>

  <!-- Scripts -->
  <script type="module" src="./js/partials.js"></script>
  <script src="./script.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", async () => {
      try {
        const res = await fetch("data/about.json");
        if (!res.ok) throw new Error("Failed to fetch about.json");
        const data = await res.json();

        // Intro
        const intro = document.getElementById("intro-section");
        intro.innerHTML = `
          <h1 id="aboutTitle">${data.intro.title}</h1>
          <p class="lede">${data.intro.lede}</p>
          <figure class="hero-figure">
            <img src="${data.intro.image}" alt="${data.intro.image_alt}" />
          </figure>
        `;

        // Mission & Vision
        const mv = document.getElementById("mv-section");
        mv.innerHTML = `
          <h2 id="mvTitle">Our Mission and Vision</h2>
          <div class="mv-grid">
            <article class="mv-card">
              <h3>${data.mission_vision.mission.title}</h3>
              <p>${data.mission_vision.mission.text}</p>
            </article>
            <article class="mv-card">
              <h3>${data.mission_vision.vision.title}</h3>
              <p>${data.mission_vision.vision.text}</p>
            </article>
          </div>
        `;

        // Values
        const values = document.getElementById("values-section");
        values.innerHTML = `
          <h2 id="valuesTitle">Our Values</h2>
          <p class="values-kicker">At Gihon Hebrew Synagogue, we are guided by a set of core values:</p>
          <div class="values-grid">
            ${data.values.map(val => `<blockquote class="value"><span class="quo open">“</span><p>${val}</p><span class="quo close">”</span></blockquote>`).join("")}
          </div>
        `;

        // Board
        const board = document.getElementById("board-section");
        board.innerHTML = `
          <h2 id="boardTitle">Our Board and Executive Council</h2>
          <figure class="board-figure">
            <img src="${data.board.image}" alt="${data.board.image_alt}" />
            <figcaption>${data.board.caption}</figcaption>
          </figure>
          <a href="${data.board.cta_link}" class="btn btn-outline btn-sm">${data.board.cta_text}</a>
        `;
      } catch (err) {
        console.error("Error loading about.json:", err);
      }
    });
  </script>
</body>
</html>
